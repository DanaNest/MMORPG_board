{% extends 'flatpages/default.html' %}
{% block content %}
    <h2>Приватная страница</h2>
    <form method="GET" action="{% url 'private_page' %}">
        <label for="post_id">Выберите объявление:</label>
        <select name="post_id" id="post_id">
            <option value="">Все объявления</option>
            {% for post in posts %}
                <option value="{{ post.id }}" {% if post.id == request.GET.post_id %}selected{% endif %}>{{ post.title }}</option>

            {% endfor %}
        {{ post.content }}
        </select>
        <button type="submit">Применить</button>
    </form>
    <hr>
    {% for response in responses %}
        <div>
            <p>Объявление: {{ response.post.title }}</p>
            <p>Автор: {{ response.author }}</p>
            <p>Время создания: {{ response.data_creation|date:'d.m.Y' }}</p>
            <p>Текст: {{ response.content }}</p>
        </div>
        <hr>
    {% empty %}
        <p>Нет откликов на объявления пользователя {{ user.username }}.</p>
    {% endfor %}
{% endblock %}